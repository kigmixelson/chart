<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saymon Metrics History</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="index-Qi_VvB8y.css">
    <!-- D3.js CDN for immediate functionality -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script>
        // Test if D3.js is loaded
        window.addEventListener('load', function() {
            if (typeof d3 === 'undefined') {
                console.error('D3.js not loaded!');
                document.body.innerHTML = '<div style="padding: 20px; text-align: center; color: red;">Error: D3.js failed to load. Please check your internet connection.</div>';
            } else {
                console.log('D3.js loaded successfully:', d3.version);
            }
        });
    </script>
</head>
<body>
    <div class="app-container">
        <header class="header">
            <h1>ðŸ“Š Saymon Metrics History</h1>
        </header>

        <main class="main-content">
            <div class="chart-container">
                <div id="chart" class="chart"></div>
                <div class="chart-info">
                    <div class="tooltip" id="tooltip"></div>
                    <div class="legend" id="legend"></div>
                </div>
            </div>

            <div class="sidebar">
                <div class="config-panel">
                    <h3>Metrics Configuration</h3>
                    <div class="config-inputs">
                        <div class="input-group">
                            <label for="objectId">Object ID:</label>
                            <input type="text" id="objectId" value="67cb1f1f120ab073c5adb8a2" placeholder="Enter object ID">
                        </div>
                        
                        <div class="input-group">
                            <label for="timeRange">Time Range:</label>
                            <select id="timeRange">
                                <option value="custom">Custom</option>
                                <option value="1h">Last Hour</option>
                                <option value="1d">Last Day</option>
                                <option value="1w">Last Week</option>
                                <option value="1m">Last Month</option>
                            </select>
                        </div>
                        
                        <div class="input-group">
                            <label for="fromTimestamp">From Timestamp (msec):</label>
                            <input type="number" id="fromTimestamp" value="1756497678991" placeholder="From timestamp">
                        </div>
                        
                        <div class="input-group">
                            <label for="toTimestamp">To Timestamp (msec):</label>
                            <input type="number" id="toTimestamp" value="1756592718991" placeholder="To timestamp">
                        </div>
                        
                        <div class="input-group">
                            <label for="downsample">Downsample:</label>
                            <select id="downsample">
                                <option value="5m-avg">5m-avg</option>
                                <option value="1m-avg">1m-avg</option>
                                <option value="10m-avg">10m-avg</option>
                                <option value="15m-avg">15m-avg</option>
                                <option value="30m-avg">30m-avg</option>
                                <option value="1h-avg">1h-avg</option>
                            </select>
                        </div>
                        
                        <div class="input-group">
                            <label for="metrics">Metrics (comma-separated):</label>
                            <input type="text" id="metrics" value="ifHCInOctets,ifHCOutOctets" placeholder="ifHCInOctets,ifHCOutOctets">
                        </div>
                        
                        <div class="input-group">
                            <label for="chartType">Chart Type:</label>
                            <select id="chartType">
                                <option value="line">Line Chart</option>
                                <option value="bar">Bar Chart</option>
                            </select>
                        </div>
                    </div>
                    <button id="loadData" class="btn btn-primary">Load Metrics Data</button>
                </div>

                <div class="api-info">
                    <h3>API Endpoint</h3>
                    <div class="api-url" id="apiUrl">
                        <code>/node/api/objects/67cb1f1f120ab073c5adb8a2/history?from=1756497678991&to=1756592718991&downsample=5m-avg&metrics%5B%5D=ifHCInOctets&metrics%5B%5D=ifHCOutOctets</code>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>
